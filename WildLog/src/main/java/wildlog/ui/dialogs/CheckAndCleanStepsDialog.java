package wildlog.ui.dialogs;

import java.awt.Component;
import java.util.HashSet;
import java.util.Set;
import javax.swing.ImageIcon;
import javax.swing.JCheckBox;
import javax.swing.JDialog;
import org.apache.logging.log4j.Level;
import wildlog.WildLogApp;
import wildlog.ui.dialogs.utils.UtilsDialog;
import wildlog.utils.WildLogApplicationTypes;


public class CheckAndCleanStepsDialog extends JDialog {
    private final Set<Integer> selectedSteps = new HashSet<>();

    
    public CheckAndCleanStepsDialog() {
        super(WildLogApp.getApplication().getMainFrame());
        WildLogApp.LOGGER.log(Level.INFO, "[CheckAndCleanStepsDialog]");
        // Auto generated code
        initComponents();
        // Setup the default behavior
        UtilsDialog.addEscapeKeyListener(this);
        UtilsDialog.setDialogToCenter(WildLogApp.getApplication().getMainFrame(), this);
        UtilsDialog.addModalBackgroundPanel(WildLogApp.getApplication().getMainFrame(), this);
        // Do WEI specific stuff
        if (WildLogApp.WILDLOG_APPLICATION_TYPE != WildLogApplicationTypes.WILDLOG_WEI_ADMIN
                && WildLogApp.WILDLOG_APPLICATION_TYPE != WildLogApplicationTypes.WILDLOG_WEI_VOLUNTEER) {
            chkStep10.setSelected(false);
            chkStep10.setEnabled(false);
            chkStep10.setVisible(false);
        }
        // Pack
        pack();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jCheckBox1 = new javax.swing.JCheckBox();
        jCheckBox2 = new javax.swing.JCheckBox();
        jCheckBox3 = new javax.swing.JCheckBox();
        jCheckBox4 = new javax.swing.JCheckBox();
        jCheckBox5 = new javax.swing.JCheckBox();
        jCheckBox6 = new javax.swing.JCheckBox();
        jCheckBox7 = new javax.swing.JCheckBox();
        jCheckBox8 = new javax.swing.JCheckBox();
        jCheckBox9 = new javax.swing.JCheckBox();
        chkStep10 = new javax.swing.JCheckBox();
        btnConfirm = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Check and Clean Steps");
        setIconImage(new ImageIcon(WildLogApp.class.getResource("resources/icons/WildLog Icon Selected.gif")).getImage());
        setModal(true);
        setName("Form"); // NOI18N
        setResizable(false);
        getContentPane().setLayout(new javax.swing.BoxLayout(getContentPane(), javax.swing.BoxLayout.Y_AXIS));

        jCheckBox1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox1.setSelected(true);
        jCheckBox1.setText("Step 1: Check links between records in the database");
        jCheckBox1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox1.setName("jCheckBox1"); // NOI18N
        getContentPane().add(jCheckBox1);

        jCheckBox2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox2.setSelected(true);
        jCheckBox2.setText("Step 2: Validate database references to the files in the Workspace");
        jCheckBox2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox2.setName("jCheckBox2"); // NOI18N
        getContentPane().add(jCheckBox2);

        jCheckBox3.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox3.setSelected(true);
        jCheckBox3.setText("Step 3: Validate that the Workspace files are in the database");
        jCheckBox3.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox3.setName("jCheckBox3"); // NOI18N
        getContentPane().add(jCheckBox3);

        jCheckBox4.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox4.setSelected(true);
        jCheckBox4.setText("Step 4: Check the file size and dates");
        jCheckBox4.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox4.setName("jCheckBox4"); // NOI18N
        getContentPane().add(jCheckBox4);

        jCheckBox5.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox5.setSelected(true);
        jCheckBox5.setText("Step 5: Delete empty folders");
        jCheckBox5.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox5.setName("jCheckBox5"); // NOI18N
        getContentPane().add(jCheckBox5);

        jCheckBox6.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox6.setSelected(true);
        jCheckBox6.setText("Step 6: Delete exports");
        jCheckBox6.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox6.setName("jCheckBox6"); // NOI18N
        getContentPane().add(jCheckBox6);

        jCheckBox7.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox7.setSelected(true);
        jCheckBox7.setText("Step 7: Check the GPS Accuracy values");
        jCheckBox7.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox7.setName("jCheckBox7"); // NOI18N
        getContentPane().add(jCheckBox7);

        jCheckBox8.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox8.setSelected(true);
        jCheckBox8.setText("Step 8: Check the Period and linked Observation date ranges");
        jCheckBox8.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox8.setName("jCheckBox8"); // NOI18N
        getContentPane().add(jCheckBox8);

        jCheckBox9.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jCheckBox9.setSelected(true);
        jCheckBox9.setText("Step 9: Recreating thumbnails");
        jCheckBox9.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jCheckBox9.setName("jCheckBox9"); // NOI18N
        getContentPane().add(jCheckBox9);

        chkStep10.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        chkStep10.setSelected(true);
        chkStep10.setText("Step 10: WEI - Set camera model as Observation Tag");
        chkStep10.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        chkStep10.setName("chkStep10"); // NOI18N
        getContentPane().add(chkStep10);

        btnConfirm.setIcon(new javax.swing.ImageIcon(getClass().getResource("/wildlog/resources/icons/OK.png"))); // NOI18N
        btnConfirm.setToolTipText("Start the Check and Clean process.");
        btnConfirm.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        btnConfirm.setMaximumSize(new java.awt.Dimension(450, 50));
        btnConfirm.setMinimumSize(new java.awt.Dimension(450, 50));
        btnConfirm.setName("btnConfirm"); // NOI18N
        btnConfirm.setPreferredSize(new java.awt.Dimension(450, 50));
        btnConfirm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConfirmActionPerformed(evt);
            }
        });
        getContentPane().add(btnConfirm);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnConfirmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConfirmActionPerformed
        int step = 1;
        for (Component component : getContentPane().getComponents()) {
            if (component instanceof JCheckBox) {
                if (((JCheckBox) component).isSelected()) {
                    selectedSteps.add(step);
                }
                step++;
            }
        }
        setVisible(false);
        dispose();
    }//GEN-LAST:event_btnConfirmActionPerformed

    public Set<Integer> getSelectedSteps() {
        return selectedSteps;
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnConfirm;
    private javax.swing.JCheckBox chkStep10;
    private javax.swing.JCheckBox jCheckBox1;
    private javax.swing.JCheckBox jCheckBox2;
    private javax.swing.JCheckBox jCheckBox3;
    private javax.swing.JCheckBox jCheckBox4;
    private javax.swing.JCheckBox jCheckBox5;
    private javax.swing.JCheckBox jCheckBox6;
    private javax.swing.JCheckBox jCheckBox7;
    private javax.swing.JCheckBox jCheckBox8;
    private javax.swing.JCheckBox jCheckBox9;
    // End of variables declaration//GEN-END:variables
}
